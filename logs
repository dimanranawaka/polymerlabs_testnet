echo "Running the full E2E flow..."
Running the full E2E flow...
just set-contracts optimism XCounter false && just set-contracts base XCounter false
echo "Updating config.json with contract type..."
Updating config.json with contract type...
node scripts/private/_set-contracts-config.js optimism XCounter false
ğŸ†— Updated config with XCounter for optimism. Set isUniversal to false.
echo "Updating config.json with contract type..."
Updating config.json with contract type...
node scripts/private/_set-contracts-config.js base XCounter false
ğŸ†— Updated config with XCounter for base. Set isUniversal to false.
just deploy optimism base
echo "Deploying contracts with Hardhat..."
Deploying contracts with Hardhat...
node scripts/private/_deploy-config.js optimism base
Contract XCounter deployed to 0x750DEdb8295bCE454De935781DB607657c226313 on network base


          âœ…   Deployment Successful   âœ…
          -------------------------------
          ğŸ“„ Contract Type: XCounter
          ğŸ“ Address: 0x750DEdb8295bCE454De935781DB607657c226313
          ğŸŒ Network: base
          -------------------------------

      
ğŸ†— Updated config.json with address 0x750DEdb8295bCE454De935781DB607657c226313 on network base
Contract XCounter deployed to 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97 on network optimism


          âœ…   Deployment Successful   âœ…
          -------------------------------
          ğŸ“„ Contract Type: XCounter
          ğŸ“ Address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸŒ Network: optimism
          -------------------------------

      
ğŸ†— Updated config.json with address 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97 on network optimism
just sanity-check
echo "Running sanity check..."
Running sanity check...
node scripts/private/_sanity-check.js
ğŸ—„ï¸  Fetching IBC app on base at address: 0x750DEdb8295bCE454De935781DB607657c226313
âœ… Sanity check passed for network base

ğŸ—„ï¸  Fetching IBC app on optimism at address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
âœ… Sanity check passed for network optimism

just create-channel
echo "Attempting to create a channel with the values from the config..."
Attempting to create a channel with the values from the config...
node scripts/private/_create-channel-config.js
ğŸ”Š Setting up IBC channel event listener...
ğŸ‘‚ Listening for IBC channel events on optimism...
ğŸ‘‚ Listening for IBC channel events on base...

          -------------------------------------------

          ğŸ™‹â€â™€ï¸   CHANNEL OPEN INIT !!!   ğŸ™‹â€â™€ï¸

          -------------------------------------------
          ğŸ”” Event name: OpenIbcChannel
          â›“ï¸  Network: optimism
          ğŸ”— Port Address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸ”— Counterparty Port ID: polyibc.base-sim.750DEdb8295bCE454De935781DB607657c226313
          ğŸ›£ï¸  Counterparty Channel ID: 
          ğŸ¦˜ Connection Hops: connection-0,connection-5
          ğŸ”€ Ordering: 0
          ğŸ’° Fee Enabled: false
          #ï¸âƒ£  Version: 1.0
          -------------------------------------------
          ğŸ§¾ TxHash: 0x4e4a435e5bf752aeaa319982dbe2f5de7bb2d6318b1d496089905bae5d2fa92d
          ğŸ” Explorer URL: https://optimism-sepolia.blockscout.com/tx/0x4e4a435e5bf752aeaa319982dbe2f5de7bb2d6318b1d496089905bae5d2fa92d
          -------------------------------------------

 â±ï¸  Waiting for channel open try...

          -------------------------------------------

          ğŸ™‹â€â™‚ï¸   CHANNEL OPEN TRY !!!   ğŸ™‹â€â™‚ï¸

          -------------------------------------------
          ğŸ”” Event name: OpenIbcChannel
          â›“ï¸  Network: base
          ğŸ”— Port Address: 0x750DEdb8295bCE454De935781DB607657c226313
          ğŸ”— Counterparty Port ID: polyibc.optimism-sim.bbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸ›£ï¸  Counterparty Channel ID: channel-37854
          ğŸ¦˜ Connection Hops: connection-4,connection-1
          ğŸ”€ Ordering: 0
          ğŸ’° Fee Enabled: false
          #ï¸âƒ£  Version: 1.0
          -------------------------------------------
          ğŸ§¾ TxHash: 0x938b21cabfa375ced5dbae53f59ac105fa95d178216c73d303fddc81e20aed1d
          ğŸ” Explorer URL: https://base-sepolia.blockscout.com/tx/0x938b21cabfa375ced5dbae53f59ac105fa95d178216c73d303fddc81e20aed1d
          -------------------------------------------

 â±ï¸  Waiting for channel open ack...

          -------------------------------------------

          ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨   CHANNEL OPEN ACK !!!   ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨

          -------------------------------------------
          ğŸ”” Event name: ConnectIbcChannel
          â›“ï¸  Network: optimism
          ğŸ”— Port Address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸ›£ï¸  Channel ID: channel-37854
          -------------------------------------------
          ğŸ§¾ TxHash: 0xc005a9696ce7a5bdbc006a31261c30288c5729d8cfff9e6b06b8a4654bc34568
          ğŸ” Explorer URL: https://optimism-sepolia.blockscout.com/tx/0xc005a9696ce7a5bdbc006a31261c30288c5729d8cfff9e6b06b8a4654bc34568
          -------------------------------------------

 â±ï¸  Waiting for channel open confirm...

          -------------------------------------------

          ğŸ¤µâ€â™‚ï¸ğŸ’ğŸ‘°â€â™€ï¸   CHANNEL OPEN CONFIRM !!!   ğŸ‘°â€â™€ï¸ğŸ’ğŸ¤µâ€â™‚ï¸

          -------------------------------------------
          ğŸ”” Event name: ConnectIbcChannel
          â›“ï¸  Network: base
          ğŸ”— Port Address: 0x750DEdb8295bCE454De935781DB607657c226313
          ğŸ›£ï¸  Channel ID: channel-37855
          -------------------------------------------
          ğŸ§¾ TxHash: 0x87b54935d25c2e87deed8c7ee80e502a66a608507b6d683e868857bf7e013c6d
          ğŸ” Explorer URL: https://base-sepolia.blockscout.com/tx/0x87b54935d25c2e87deed8c7ee80e502a66a608507b6d683e868857bf7e013c6d
          -------------------------------------------

 â±ï¸  Waiting for channel creation overview...

          ğŸŠ   Created Channel   ğŸŠ
          -----------------------------------------
          ğŸ›£ï¸  Channel ID: channel-37854
          ğŸ”— Port ID: polyibc.optimism-sim.bbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸŒ Network: optimism
          -----------------------------------------
          ğŸ›£ï¸  Counterparty Channel ID: channel-37855
          ğŸª Counterparty Network: base
          -----------------------------------------

ğŸ†— Updated config.json with channel-37854 on network optimism and channel-37855 on network base
just send-packet optimism
echo "Sending a packet with the values from the config..."
Sending a packet with the values from the config...
node scripts/private/_send-packet-config.js optimism
ğŸ”Š Setting up IBC packet event listener...
ğŸ‘‚ Listening for IBC packet events on optimism...
ğŸ‘‚ Listening for IBC packet events on base...
 
          -------------------------------------------
          ğŸ“¦ ğŸ“®   PACKET HAS BEEN SENT !!!   ğŸ“¦ ğŸ“®
          -------------------------------------------
          ğŸ”” Event name: SendPacket
          â›“ï¸  Network: optimism
          ğŸ”— Source Port Address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸ›£ï¸  Source Channel ID: channel-37854
          ğŸ“ˆ Sequence: 1
          â³ Timeout Timestamp: 1710844354000000000
          -------------------------------------------
          ğŸ§¾ TxHash: 0xb1cab44bb47803cf53768cb26483a8317f45e543f6f5d9f92445c1ab315d05ab
          ğŸ” Explorer URL: https://optimism-sepolia.blockscout.com/tx/0xb1cab44bb47803cf53768cb26483a8317f45e543f6f5d9f92445c1ab315d05ab
          -------------------------------------------

 â±ï¸  Waiting for packet receipt...
ğŸ—„ï¸  Fetching IBC app on optimism at address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97


          -------------------------------------------
          ğŸ“¦ ğŸ“¬   PACKET IS RECEIVED !!!   ğŸ“¦ ğŸ“¬
          -------------------------------------------
          ğŸ”” Event name: RecvPacket
          â›“ï¸  Network: base
          ğŸ”— Destination Port Address: 0x750DEdb8295bCE454De935781DB607657c226313
          ğŸ›£ï¸  Destination Channel ID: channel-37855
          ğŸ“ˆ Sequence: 1
          -------------------------------------------
          ğŸ§¾ TxHash: 0xe5621e18fec3fef5f161b379608743e3cc375ff4eb56bdfc0198c2f471ffd12d
          ğŸ” Explorer URL: https://base-sepolia.blockscout.com/tx/0xe5621e18fec3fef5f161b379608743e3cc375ff4eb56bdfc0198c2f471ffd12d
          -------------------------------------------

 â±ï¸  Waiting for write acknowledgement...
 
          -------------------------------------------
          ğŸ“¦ ğŸ“   ACKNOWLEDGEMENT WRITTEN !!!   ğŸ“¦ ğŸ“
          -------------------------------------------
          ğŸ”” Event name: WriteAckPacket
          â›“ï¸  Network: base
          ğŸ”— Destination Port Address: 0x750DEdb8295bCE454De935781DB607657c226313
          ğŸ›£ï¸  Channel ID: channel-37855
          ğŸ“ˆ Sequence: 1
          -------------------------------------------
          ğŸ§¾ TxHash: 0xe5621e18fec3fef5f161b379608743e3cc375ff4eb56bdfc0198c2f471ffd12d
          ğŸ” Explorer URL: https://base-sepolia.blockscout.com/tx/0xe5621e18fec3fef5f161b379608743e3cc375ff4eb56bdfc0198c2f471ffd12d
          -------------------------------------------

 â±ï¸  Waiting for acknowledgement...
   
          -------------------------------------------
          ğŸ“¦ ğŸ   PACKET IS ACKNOWLEDGED !!!   ğŸ“¦ ğŸ
          -------------------------------------------
          ğŸ”” Event name: Acknowledgement
          â›“ï¸  Network: optimism
          ğŸ”— Source Port Address: 0xbbBC08F573176eFE0094dC4d00D0aaa2910a2C97
          ğŸ›£ï¸  Source Channel ID: channel-37854
          ğŸ“ˆ Sequence: 1
          -------------------------------------------
          ğŸ§¾ TxHash: 0x2e998b546111bf762b60be101d8b7ded8903aed1bbe6792148cb65ae1e71d3ca
          ğŸ” Explorer URL: https://optimism-sepolia.blockscout.com/tx/0x2e998b546111bf762b60be101d8b7ded8903aed1bbe6792148cb65ae1e71d3ca
          -------------------------------------------